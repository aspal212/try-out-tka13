<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manajemen Soal - Try Out TKA13</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
            <a class="navbar-brand" href="../index.html">
                <i class="bi bi-mortarboard-fill"></i>
                Try Out TKA13 - Admin
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="dashboard.html">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="questions.html">Manajemen Soal</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="participants.html">Peserta</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="results.html">Hasil Ujian</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="exam-management.html">Kelola Ujian</a>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            <i class="bi bi-person-circle"></i> Admin
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="settings.html">Pengaturan</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#" onclick="logout()">Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container-fluid mt-4">
        <!-- Page Header -->
        <div class="row mb-4">
            <div class="col">
                <h2><i class="bi bi-question-circle"></i> Manajemen Soal</h2>
                <p class="text-muted">Kelola banco de soal ujian dengan mudah</p>
            </div>
            <div class="col-auto">
                <a href="add-question.html" class="btn btn-primary">
                    <i class="bi bi-plus-circle"></i> Tambah Soal Baru
                </a>
            </div>
        </div>

        <!-- Filters and Search -->
        <div class="row mb-4">
            <div class="col-md-4">
                <input type="text" class="form-control" placeholder="Cari soal..." id="searchQuestion">
            </div>
            <div class="col-md-3">
                <select class="form-select" id="filterCategory">
                    <option value="">Semua Kategori</option>
                    <option value="matematika">Matematika</option>
                    <option value="bahasa">Bahasa Indonesia</option>
                    <option value="ipa">IPA</option>
                    <option value="ips">IPS</option>
                    <option value="english">English</option>
                </select>
            </div>
            <div class="col-md-3">
                <select class="form-select" id="filterDifficulty">
                    <option value="">Semua Level</option>
                    <option value="mudah">Mudah</option>
                    <option value="sedang">Sedang</option>
                    <option value="sulit">Sulit</option>
                </select>
            </div>
            <div class="col-md-2">
                <button class="btn btn-outline-secondary" onclick="resetFilters()">
                    <i class="bi bi-arrow-clockwise"></i> Reset
                </button>
            </div>
        </div>

        <!-- Questions Table -->
        <div class="card">
            <div class="card-header">
                <h5>Daftar Soal (<span id="totalQuestions">156</span> soal)</h5>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-hover" id="questionsTable">
                        <thead>
                            <tr>
                                <th width="60">
                                    <input type="checkbox" id="selectAll">
                                </th>
                                <th>ID</th>
                                <th>Pertanyaan</th>
                                <th>Kategori</th>
                                <th>Level</th>
                                <th>Status</th>
                                <th>Dibuat</th>
                                <th width="150">Aksi</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="checkbox" value="1"></td>
                                <td>Q001</td>
                                <td>Berapa hasil dari 15 Ã— 8?</td>
                                <td><span class="badge bg-primary">Matematika</span></td>
                                <td><span class="badge bg-success">Mudah</span></td>
                                <td><span class="badge bg-success">Aktif</span></td>
                                <td>15 Nov 2025</td>
                                <td>
                                    <button class="btn btn-sm btn-outline-primary" title="Edit" onclick="editQuestion(1)">
                                        <i class="bi bi-pencil"></i>
                                    </button>
                                    <button class="btn btn-sm btn-outline-info" title="View" onclick="viewQuestion(1)">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                    <button class="btn btn-sm btn-outline-danger" title="Delete" onclick="deleteQuestion(1)">
                                        <i class="bi bi-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" value="2"></td>
                                <td>Q002</td>
                                <td>Apa ibukota dari Indonesia?</td>
                                <td><span class="badge bg-info">IPS</span></td>
                                <td><span class="badge bg-success">Mudah</span></td>
                                <td><span class="badge bg-success">Aktif</span></td>
                                <td>15 Nov 2025</td>
                                <td>
                                    <button class="btn btn-sm btn-outline-primary" title="Edit" onclick="editQuestion(2)">
                                        <i class="bi bi-pencil"></i>
                                    </button>
                                    <button class="btn btn-sm btn-outline-info" title="View" onclick="viewQuestion(2)">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                    <button class="btn btn-sm btn-outline-danger" title="Delete" onclick="deleteQuestion(2)">
                                        <i class="bi bi-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" value="3"></td>
                                <td>Q003</td>
                                <td>Explain the concept of photosynthesis in English.</td>
                                <td><span class="badge bg-warning">English</span></td>
                                <td><span class="badge bg-warning">Sedang</span></td>
                                <td><span class="badge bg-warning">Draft</span></td>
                                <td>14 Nov 2025</td>
                                <td>
                                    <button class="btn btn-sm btn-outline-primary" title="Edit" onclick="editQuestion(3)">
                                        <i class="bi bi-pencil"></i>
                                    </button>
                                    <button class="btn btn-sm btn-outline-info" title="View" onclick="viewQuestion(3)">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                    <button class="btn btn-sm btn-outline-danger" title="Delete" onclick="deleteQuestion(3)">
                                        <i class="bi bi-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" value="4"></td>
                                <td>Q004</td>
                                <td>Proses fotosintesis terjadi di mana?</td>
                                <td><span class="badge bg-danger">IPA</span></td>
                                <td><span class="badge bg-danger">Sulit</span></td>
                                <td><span class="badge bg-success">Aktif</span></td>
                                <td>14 Nov 2025</td>
                                <td>
                                    <button class="btn btn-sm btn-outline-primary" title="Edit" onclick="editQuestion(4)">
                                        <i class="bi bi-pencil"></i>
                                    </button>
                                    <button class="btn btn-sm btn-outline-info" title="View" onclick="viewQuestion(4)">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                    <button class="btn btn-sm btn-outline-danger" title="Delete" onclick="deleteQuestion(4)">
                                        <i class="bi bi-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Bulk Actions -->
                <div class="row mt-3">
                    <div class="col-md-6">
                        <div class="btn-group" role="group">
                            <button class="btn btn-sm btn-outline-success" onclick="bulkActivate()">
                                <i class="bi bi-check-circle"></i> Aktifkan Terpilih
                            </button>
                            <button class="btn btn-sm btn-outline-warning" onclick="bulkDeactivate()">
                                <i class="bi bi-pause-circle"></i> Nonaktifkan
                            </button>
                            <button class="btn btn-sm btn-outline-danger" onclick="bulkDelete()">
                                <i class="bi bi-trash"></i> Hapus Terpilih
                            </button>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <nav aria-label="Page navigation">
                            <ul class="pagination justify-content-end mb-0">
                                <li class="page-item disabled">
                                    <a class="page-link" href="#" tabindex="-1">Previous</a>
                                </li>
                                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item">
                                    <a class="page-link" href="#">Next</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Advanced Search and Filters -->
<div class="row mb-4">
    <div class="col-md-3">
        <input type="text" class="form-control" placeholder="Cari soal..." id="advancedSearch">
    </div>
    <div class="col-md-2">
        <select class="form-select" id="categoryFilter">
            <option value="">Semua Kategori</option>
            <option value="matematika">Matematika</option>
            <option value="bahasa">Bahasa Indonesia</option>
            <option value="ipa">IPA</option>
            <option value="ips">IPS</option>
            <option value="english">English</option>
        </select>
    </div>
    <div class="col-md-2">
        <select class="form-select" id="difficultyFilter">
            <option value="">Semua Level</option>
            <option value="mudah">Mudah</option>
            <option value="sedang">Sedang</option>
            <option value="sulit">Sulit</option>
        </select>
    </div>
    <div class="col-md-2">
        <select class="form-select" id="statusFilter">
            <option value="">Semua Status</option>
            <option value="aktif">Aktif</option>
            <option value="draft">Draft</option>
            <option value="nonaktif">Nonaktif</option>
        </select>
    </div>
    <div class="col-md-2">
        <select class="form-select" id="sortBy">
            <option value="created">Terbaru</option>
            <option value="name">Nama</option>
            <option value="difficulty">Level</option>
            <option value="used">Paling Sering Digunakan</option>
        </select>
    </div>
    <div class="col-md-1">
        <button class="btn btn-outline-secondary w-100" onclick="resetFilters()">
            <i class="bi bi-arrow-clockwise"></i>
        </button>
    </div>
</div>

<!-- Question Statistics Bar -->
<div class="row mb-3">
    <div class="col-md-12">
        <div class="progress" style="height: 6px;">
            <div class="progress-bar bg-success" style="width: 70%"></div>
            <div class="progress-bar bg-warning" style="width: 20%"></div>
            <div class="progress-bar bg-danger" style="width: 10%"></div>
        </div>
        <div class="row text-center mt-2">
            <div class="col-md-3">
                <small class="text-success">109 Aktif (70%)</small>
            </div>
            <div class="col-md-3">
                <small class="text-warning">31 Draft (20%)</small>
            </div>
            <div class="col-md-3">
                <small class="text-danger">16 Nonaktif (10%)</small>
            </div>
            <div class="col-md-3">
                <small class="text-primary">Total: 156</small>
            </div>
        </div>
    </div>
</div>

    <!-- Import/Export Modal -->
    <div class="modal fade" id="importModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Import/Export Soal</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Import</h6>
                            <div class="d-grid">
                                <button class="btn btn-outline-primary mb-2">
                                    <i class="bi bi-upload"></i> Import dari Excel
                                </button>
                                <button class="btn btn-outline-info">
                                    <i class="bi bi-upload"></i> Import dari Word
                                </button>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h6>Export</h6>
                            <div class="d-grid">
                                <button class="btn btn-outline-success mb-2" onclick="exportToExcel()">
                                    <i class="bi bi-download"></i> Export ke Excel
                                </button>
                                <button class="btn btn-outline-warning" onclick="exportToPDF()">
                                    <i class="bi bi-download"></i> Export ke PDF
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/admin-questions.js"></script>
</body>
</html>